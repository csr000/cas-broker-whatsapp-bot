{"version":3,"file":"testWaCallbackUrl.js","names":["req","res","console","log","mode","query","token","challenge","process","env","Meta_WA_VerifyToken","status","send","sendStatus"],"sources":["../../src/helpers/testWaCallbackUrl.js"],"sourcesContent":["export default function (req,res) {\n    console.log('GET: Someone is pinging me!');\n\n    let mode = req.query['hub.mode'];\n    let token = req.query['hub.verify_token'];\n    let challenge = req.query['hub.challenge'];\n\n    if (\n        mode &&\n        token &&\n        mode === 'subscribe' &&\n        process.env.Meta_WA_VerifyToken === token\n    ) {\n        return res.status(200).send(challenge);\n    } else {\n        return res.sendStatus(403);\n    }\n}\n"],"mappings":";;;;;;AAAe,kBAAUA,GAAG,EAACC,GAAG,EAAE;EAC9BC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAE1C,IAAIC,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAAC,UAAU,CAAC;EAChC,IAAIC,KAAK,GAAGN,GAAG,CAACK,KAAK,CAAC,kBAAkB,CAAC;EACzC,IAAIE,SAAS,GAAGP,GAAG,CAACK,KAAK,CAAC,eAAe,CAAC;EAE1C,IACID,IAAI,IACJE,KAAK,IACLF,IAAI,KAAK,WAAW,IACpBI,OAAO,CAACC,GAAG,CAACC,mBAAmB,KAAKJ,KAAK,EAC3C;IACE,OAAOL,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,SAAS,CAAC;EAC1C,CAAC,MAAM;IACH,OAAON,GAAG,CAACY,UAAU,CAAC,GAAG,CAAC;EAC9B;AACJ"}